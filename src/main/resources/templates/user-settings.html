<!DOCTYPE html><!--  This site was created in Webflow. https://www.webflow.com  -->
<!--  Last Published: Thu Mar 14 2024 06:48:50 GMT+0000 (Coordinated Universal Time)  -->
<html data-wf-page="65f185758e3e35c939fddcd2" data-wf-site="65dbafc99f6b400b3852fc07" lang="bg" xmlns:th="https://www.thymeleaf.org">
<head>
  <meta charset="utf-8">
  <title>UserDetail</title>
  <meta content="UserDetail" property="og:title">
  <meta content="UserDetail" property="twitter:title">
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <meta content="Webflow" name="generator">
  <link href="css/normalize.css" rel="stylesheet" type="text/css">
  <link href="css/webflow.css" rel="stylesheet" type="text/css">
  <link href="css/samarbg-5ed359.webflow.css" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin="anonymous">
  <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js" type="text/javascript"></script>
  <script type="text/javascript">WebFont.load({  google: {    families: ["Droid Serif:400,400italic,700,700italic"]  }});</script>
  <script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script>
  <link href="impl/logo3232.png" rel="shortcut icon" type="image/x-icon">
  <link href="impl/logo256256.png" rel="apple-touch-icon">
</head>
<body class="body-6">
  <div class="div-block-12"></div>
  <div
          th:replace="~{fragments/navbar::navbar}">
  </div>
  <div>
    <section class="section-2">
      <div class="div-block-16">
        <h1 class="heading-2">Настройки на профила</h1>
        <div class="form1 w-form">
          <form method="post"
                th:action="@{/user-settings/saveFormOne}"
                th:object="${saveFormOne}"
                id="cityForm" name="email-form" data-name="Email Form"  class="form-2" data-wf-page-id="65f185758e3e35c939fddcd2" data-wf-element-id="8c51e80b-1c0a-6c39-4ff7-a4a4bafc8bfd">
            <label for="field" class="field-label-8" >Име</label>
            <input th:field="*{realName}" class="w-input" maxlength="256" name="realName" data-name="Име" th:placeholder="${@userServiceImpl.getCurrentUser()?.getRealName() != null ? @userServiceImpl.getCurrentUser().getRealName() : '-'}" type="text" id="field">

            <label for="field-3" class="field-label-6" >Телефон</label>
            <input th:field="*{phone}" class="w-input" maxlength="256" name="field-3" data-name="Field 3"
                   th:placeholder="${@userServiceImpl.getCurrentUser()?.getPhone() != null ? @userServiceImpl.getCurrentUser().getPhone() : '-'}"
                   type="text" id="field-3">

            <label for="CityField" class="field-label-7">Изберете населено място</label>
            <select th:field="*{city}" id="CityField" name="CityField" data-name="CityField" class="select-field w-select">
              <option th:value="${@userServiceImpl.getCurrentUser().getCity() }" >-</option>
              <option value="BLAGOEVGRAD">Благоевград</option>
              <option value="BURGAS">Бургас</option>
              <option value="VARNA">Варна</option>
              <option value="VELIKO_TARNOVO">Велико Търново</option>
              <option value="VIDIN">Видин</option>
              <option value="VRATSA">Враца</option>
              <option value="GABROVO">Габрово</option>
              <option value="DOBRICH">Добрич</option>
              <option value="KARDZHALI">Кърджали</option>
              <option value="KYUSTENDIL">Кюстендил</option>
              <option value="LOVECH">Ловеч</option>
              <option value="MONTANA">Монтана</option>
              <option value="PAZARDZHIK">Пазарджик</option>
              <option value="PERNIK">Перник</option>
              <option value="PLEVEN">Плевен</option>
              <option value="PLOVDIV">Пловдив</option>
              <option value="RAZGRAD">Разград</option>
              <option value="RUSE">Русе</option>
              <option value="SILISTRA">Силистра</option>
              <option value="SLIVEN">Сливен</option>
              <option value="SMOLYAN">Смолян</option>
              <option value="SOFIA">София</option>
              <option value="STARA_ZAGORA">Стара Загора</option>
              <option value="TARGOVISHTE">Търговище</option>
              <option value="HASKOVO">Хасково</option>
              <option value="SHUMEN">Шумен</option>
              <option value="YAMBOL">Ямбол</option>
            </select>
            <input type="submit" data-wait="Please wait..." name="zapazi nastroikite" class="button w-button" value="Запази настройките">
          </form>
          <div>
            <p th:if="${errorFormOne}" class="error-text" style="color: #dc3838;"></p>
            <p th:text="${errorFormOne}" class="error-text" style="color: #dc3838;"></p>
          </div>
          <div th:if="${massageFormOne}" class="error-message">
            <p th:text="${massageFormOne}" class="error-text" style="color: #30b02e;" ></p>
          </div>
        </div>
        <h1 class="heading-3">Смяна на паролата</h1>
        <div class="form2 w-form">
          <form method="post"
                th:action="@{/user-settings/changePassword}"
                th:object="${changePasswordViewModel}"
                id="new-password-2-form" name="email-form" data-name="Email Form" class="form-2" data-wf-page-id="65f185758e3e35c939fddcd2" data-wf-element-id="9c516cee-2868-693c-4e1f-f3a281d8b7d3">
            <label for="field-2" class="field-label-8">Текуща парола</label>
            <input th:field="*{oldPassword}" class="w-input" maxlength="256" name="field-2" data-name="Field 2" placeholder="Вашата текуща парола..." type="password" id="field-2">

            <label for="new-password" class="field-label-6">Нова парола</label>
            <input th:field="*{newPassword}" class="w-input" maxlength="256" name="new-password" data-name="new password" placeholder="Въведете новата парола..." type="password" id="new-password" required="">

            <label for="new-password-2" class="field-label-7">Повторна парола</label>
            <input th:field="*{confirmNewPassword}" class="w-input" maxlength="256" name="new-password2" data-name="new password2" placeholder="Повторете новата парола..." type="password" id="new-password-2" required="">

            <button class="button w-button" type="submit" onclick="setFileName()">Запази новата парола</button>
          </form>
          <div>
            <p th:if="${errorChangePassword}" class="error-text" style="color: #dc3838;"></p>
            <p th:text="${errorChangePassword}" class="error-text" style="color: #dc3838;"></p>
          </div>
          <div th:if="${successMessageChangePassword}" class="error-message">
            <p th:text="${successMessageChangePassword}" class="error-text" style="color: #30b02e;" ></p>
          </div>
        </div>
      </div>
      <div id="w-node-abe5057b-8d29-ae56-908b-2db59a8cb7f8-39fddcd2" class="div-block-14">
        <div class="nikname" th:text="${@userServiceImpl.getCurrentUser().getUsername()}">Nickname</div>
        <form  method="post"
               th:action="@{/user-settings/uploadProfileImage}"
               th:object="${profileImageViewModel}"
               id="uploadForm" enctype="multipart/form-data">
          <img th:src="${@userServiceImpl.getCurrentUser()?.getImageUrl() != null ? @userServiceImpl.getCurrentUser().getImageUrl() : 'images/userNameIcon1.png' }" loading="lazy" alt=""  width="350" height="auto">>
          <input class="button w-button" type="file" id="file" name="profileImgFile" th:name="profileImgFile" value="Избери профилна снимка">

          <!-- Скрито поле за името на файла -->
          <input type="hidden" id="fileName" name="fileName" >
          <button class="button w-button" type="submit" onclick="setFileName()">Качи снимка</button>
        </form>
        <div>
          <p th:if="${errorImg}" th:text="${error}" class="error-text" style="color: #dc3838;"></p>
          <p th:if="${param.error != null}" th:text="${param.error}" class="error-text" style="color: #dc3838;"></p>
        </div>
        <div th:if="${messageImg}" class="error-message">
          <p th:text="${messageImg}" class="error-text" style="color: #30b02e;" ></p>
        </div>
      </div>
    </section>
  </div>
  <div class="div-block-15">
    <div>
      <div class="messag"></div>
    </div>
  </div>
  <section class="footer">
    <div
            th:replace="~{fragments/footer::footer}">
    </div>
  </section>
  <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=65dbafc99f6b400b3852fc07" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <script src="js/webflow.js" type="text/javascript"></script>
  <script>
    // Функция, която се извиква при натискане на бутона "Качи снимка"
    function setFileName() {
      // Вземете името на избраната снимка от полето за качване на файлове
      var fileName = document.getElementById("file").files[0].name;
      // Задайте стойността на скритото поле с името на снимката
      document.getElementById("fileName").value = fileName;
    }
  </script>
</body>
</html>